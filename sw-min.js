clearCache();const staticCache="restaurantCache-v1";function fromCache(t){return caches.open(staticCache).then((function(e){return e.match(t).then((function(t){return t||Promise.reject("no-match")}))}))}function fromNetwork(t,e){return new Promise((function(n,c){let r=setTimeout(c,e);fetch(t).then((function(t){clearTimeout(r),n(t)}),c)}))}function clearCache(){caches.keys().then((function(t){return Promise.all(t.filter((function(t){if(t.startsWith("restaurantCache-")&&t!==staticCache)return t})).map((function(t){return caches.delete(t)})))}))}self.addEventListener("install",(function(t){self.skipWaiting(),t.waitUntil(caches.open(staticCache).then((function(t){return t.addAll(["./index.html","./restaurant.html","./css","./js","./data","./img"])})))})),self.addEventListener("fetch",(function(t){console.log("Service Worker is serving"),t.respondWith(fromNetwork(t.request,400).catch((function(){return fromCache(t.request)}))),t.waitUntil(caches.open(staticCache).then((function(e){return fetch(t.request).then((function(n){return e.put(t.request,n)}))})))})),self.addEventListener("activate",(function(t){t.waitUntil(clearCache())}));